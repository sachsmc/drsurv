<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="An implementation of several doubly robust estimators for the 
    survival difference at a given time point and one more complex 
    doubly robust estimator for the survival curve process. The estimators 
    are doubly robust in the sense that they are consistent if the censoring 
    model is correctly specified for censoring and either the outcome model 
    is correctly specified for confounding or the exposure model is correctly 
    specified for confounding. See &lt;doi:10.48550/arXiv.2310.16207&gt; for 
    more details and examples. ">
<title>Doubly Robust Estimation of Survival Differences with Censored Data • drsurv</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Doubly Robust Estimation of Survival Differences with Censored Data">
<meta property="og:description" content="An implementation of several doubly robust estimators for the 
    survival difference at a given time point and one more complex 
    doubly robust estimator for the survival curve process. The estimators 
    are doubly robust in the sense that they are consistent if the censoring 
    model is correctly specified for censoring and either the outcome model 
    is correctly specified for confounding or the exposure model is correctly 
    specified for confounding. See &lt;doi:10.48550/arXiv.2310.16207&gt; for 
    more details and examples. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">drsurv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/comparison.html">Comparison of Methods in the Rotterdam Data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sachsmc/drsurv/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="drsurv">drsurv<a class="anchor" aria-label="anchor" href="#drsurv"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <code>drsurv</code> is to implement several doubly robust estimators for the survival difference at a given time point and one more complex doubly robust estimator for the survival curve process. The estimators are doubly robust in the sense that they are consistent if the censoring model is correctly specified for censoring and either the outcome model is correctly specified for confounding or the exposure model is correctly specified for confounding. See <a href="https://arxiv.org/abs/2310.16207" class="external-link uri">https://arxiv.org/abs/2310.16207</a> for more details and examples.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <code>drsurv</code> like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"sachsmc/drsurv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sachsmc/drsurv" class="external-link">drsurv</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: survival</span></span>
<span><span class="co">## basic example code</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">rotterdam</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">rtime</span>, <span class="va">df</span><span class="op">$</span><span class="va">dtime</span><span class="op">)</span> <span class="op">/</span> <span class="fl">365.25</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">recur</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">|</span> <span class="va">df</span><span class="op">$</span><span class="va">death</span> <span class="op">==</span> <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">censor</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">df</span><span class="op">$</span><span class="va">status</span></span>
<span><span class="va">drFit.sjovan</span> <span class="op">&lt;-</span></span>
<span> <span class="fu"><a href="reference/sjovan_survdiff.html">sjovan_survdiff</a></span><span class="op">(</span></span>
<span>   oformula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">chemo</span> <span class="op">+</span> <span class="va">year</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">meno</span> <span class="op">+</span></span>
<span>     <span class="va">size</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">grade</span><span class="op">)</span> <span class="op">+</span> <span class="va">nodes</span> <span class="op">+</span> <span class="va">pgr</span> <span class="op">+</span> <span class="va">er</span> <span class="op">+</span> <span class="va">hormon</span>,</span>
<span>   ofunc <span class="op">=</span> <span class="st">"survreg"</span>,</span>
<span>   cformula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">censor</span><span class="op">)</span> <span class="op">~</span> <span class="va">chemo</span> <span class="op">+</span> <span class="va">year</span> <span class="op">+</span> <span class="va">age</span>,</span>
<span>   cfunc <span class="op">=</span> <span class="st">"survreg"</span>,</span>
<span>   eformula <span class="op">=</span> <span class="va">chemo</span> <span class="op">~</span> <span class="va">year</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">meno</span> <span class="op">+</span> <span class="va">size</span> <span class="op">+</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">grade</span><span class="op">)</span> <span class="op">+</span> <span class="va">nodes</span> <span class="op">+</span> <span class="va">pgr</span> <span class="op">+</span> <span class="va">er</span> <span class="op">+</span> <span class="va">hormon</span>,</span>
<span>   method <span class="op">=</span> <span class="st">"DR"</span>,</span>
<span>   times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fl">5</span>, <span class="fl">7.5</span><span class="op">)</span>,</span>
<span>   se.type <span class="op">=</span> <span class="st">"sandwich"</span>,</span>
<span>   data <span class="op">=</span> <span class="va">df</span></span>
<span> <span class="op">)</span></span>
<span><span class="va">drFit.sjovan</span></span>
<span><span class="co">#&gt; $est.S1</span></span>
<span><span class="co">#&gt; [1] 0.7661741 0.6032550 0.5224925</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se.S1</span></span>
<span><span class="co">#&gt; [1] 0.03440273 0.02906199 0.14520126</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $est.S0</span></span>
<span><span class="co">#&gt; [1] 0.7190130 0.5515392 0.4670844</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se.S0</span></span>
<span><span class="co">#&gt; [1] 0.07008758 0.07427899 0.10500988</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $est.diff</span></span>
<span><span class="co">#&gt; [1] 0.04716109 0.05171581 0.05540801</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $se.diff</span></span>
<span><span class="co">#&gt; [1] 0.06863352 0.07611256 0.14153032</span></span></code></pre></div>
<p>The other methods are <code>blanche_survdiff</code> and <code>pseudo_survdiff</code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/sachsmc/drsurv/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/sachsmc/drsurv/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing drsurv</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael C Sachs <br><small class="roles"> Author, maintainer </small>  </li>
<li>Arvid Sjölander <br><small class="roles"> Author </small>  </li>
<li>Erin E Gabriel <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael C Sachs, Arvid Sjölander, Erin E Gabriel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
